---
where: os.name == "linux"

depends:
  - startup.systemd
  - commands.bin
  - windowmanagers.rofi
  - windowmanagers.picom
  - windowmanagers.enact
  - shells.xresources
  - shells.zsh

actions:
  - action: command.run
    command: rm
    args:
      - "-rf"
      - "{{user.home_dir}}/.config/awesome"

  - action: directory.copy
    from: awesome
    to: "{{user.home_dir}}/.config/"

  - action: package.install
    list:
      - awesome
      - arandr
      - autorandr
      - nitrogen
      - lxappearance
      - scrot
      - viewnior
      - xsel
      - xsettingsd
      - lua
      - luarocks
      - lua-devel
      - gobject-introspection-devel

  - action: command.run
    command: luarocks
    sudo: true
    args:
      - install
      - --local
      - lain
  - action: command.run
    command: luarocks
    sudo: true
    args:
      - install
      - --local
      - path
  - action: command.run
    command: luarocks
    sudo: true
    args:
      - install
      - --local
      - luafilesystem
  - action: command.run
    command: luarocks
    sudo: true
    args:
      - install
      - --local
      - power_widget
  - action: command.run
    command: luarocks
    sudo: true
    args:
      - install
      - --local
      - lgi
  - action: command.run
    command: luarocks
    sudo: true
    args:
      - install
      - --local
      - lcpz/awesome-freedesktop
  - action: command.run
    command: luarocks
    sudo: true
    args:
      - install
      - --local
      - awesome-autostart
