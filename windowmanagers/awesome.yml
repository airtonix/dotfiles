---
depends:
  - dotfiles.submodules
  - windowmanagers.rofi
  - windowmanagers.picom
  - windowmanagers.autorandr
  - commands.bin
  - startup.systemd
  - shells.xresources
  - shells.zsh

actions:

  - action: command.run
    where: os.name == "linux"
    command: sh
    args:
      - -c
      - |
        rm -rf "{{user.home_dir}}/.config/awesome"


  - action: directory.copy
    where: os.name == "linux" 
    from: awesome
    to: "{{user.home_dir}}/.config/"

  - action: package.install
    where: os.name == "linux" && os.distribution == "Fedora"
    list:
      - lua
      - lua-devel
      - gobject-introspection-devel

  - action: package.install
    where: os.name == "linux"
    list:
      - awesome
      - arandr
      - autorandr
      - nitrogen
      - lxappearance
      - scrot
      - viewnior
      - xsel
      - xsettingsd
      - luarocks

  - action: command.run
    where: os.name == "linux"
    sudo: true
    command: luarocks
    args: 
      - install
      - path
  - action: command.run
    where: os.name == "linux"
    sudo: true
    command: luarocks
    args: 
      - install
      - luafilesystem
  - action: command.run
    where: os.name == "linux"
    sudo: true
    command: luarocks
    args: 
      - install
      - power_widget 
  - action: command.run
    where: os.name == "linux"
    sudo: true
    command: luarocks
    args: 
      - install
      - lgi 
  - action: command.run
    where: os.name == "linux"
    sudo: true
    command: luarocks
    args: 
      - install
      - lcpz/awesome-freedesktop
  - action: command.run
    where: os.name == "linux"
    sudo: true
    command: luarocks
    args: 
      - install
      - awesome-autostart 
  - action: command.run
    where: os.name == "linux"
    sudo: true
    command: luarocks
    args: 
      - install
      - lyamledg
