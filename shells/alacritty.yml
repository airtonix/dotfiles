---
actions:
  - action: package.install
    name: alacritty

  - action: command.run
    command: "true"
    variants:
      - where: os.name == "linux" || os.name == "macos"
        command: sh
        args:
          - -s
          - |
              rm -rf '{{user.config_dir}}/alacritty/alacritty.yml'
              ln -s $PWD/shells/files/alacritty '{{user.config_dir}}/alacritty'

      - where: os.name == "windows"
        command: pwsh
        args:
          - -c
          - |
            remove-item -recurse -force -erroraction SilentlyContinue '{{user.config_dir}}/alacritty'
            new-item -path "{{user.config_dir}}/alacritty" -itemtype symboliclink -value "$(pwd)/shells/files/alacritty"

      - where: os.name == "windows"
        command: pwsh
        args:
          - -c
          - |
            scoop install llvm
